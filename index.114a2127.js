function t(t){for(var e,n=[],r="",o=0;e=t.charAt(o);o++)"^*/+-".indexOf(e)>-1?""==r&&"-"==e?r="-":(n.push(parseFloat(r),e),r=""):r+=t.charAt(o);return""!=r&&n.push(parseFloat(r)),n}const e=t=>{for(var e,n=[{"^":(t,e)=>Math.pow(t,e)},{"*":(t,e)=>t*e,"/":(t,e)=>t/e},{"+":(t,e)=>t+e,"-":(t,e)=>t-e}],r=[],o=0;o<n.length;o++){for(var l=0;l<t.length;l++)n[o][t[l]]?e=n[o][t[l]]:e?(r[r.length-1]=e(r[r.length-1],t[l]),e=null):r.push(t[l]);t=r,r=[]}return t.length>1?(console.log("Error: unable to resolve calculation"),t):t[0]},n=()=>document.getElementById("board"),r=()=>document.getElementById("toggler"),o=t=>{n().value=t},l=()=>document.documentElement;var a=t=>{let e=(t=>t.replaceAll("*","x"))(t),n=e;document.getElementById("screen").value=n};const s=t=>{if("infinity"===t.toLowerCase())return"Infinity";if(-1===t.indexOf("."))return c(t);const e=t.split(".");return`${c(e[0])}.${e[1]}`},c=t=>{let e=t.toString(),n=[];const r=e.length,o={remainder:r%3,div:r/3};if(0===o.remainder)for(let t=0;t<o.div;t++){const r=e.substring(3*t,3*t+3);n.push(r)}else{let t=e;const r=e.substring(0,o.remainder);n.push(r),t=t.replace(r,"");for(let e=0;e<o.div;e++){const r=t.substring(3*e,3*e+3);n.push(r)}n.pop()}return e=n.join(","),e},i=(t,e)=>{let n=t;return"x"===e?("*"!==t[t.length-1]&&(n=t+"*"),"/"===t[t.length-1]&&(n=t.substring(0,t.length-1)+"*")):"/"===e?("/"!==t[t.length-1]&&(n=t+"/"),"*"===t[t.length-1]&&(n=t.substring(0,t.length-1)+"/")):"+"===e?("+"!==t[t.length-1]&&(n=t+"+"),"*"===t[t.length-1]&&(n=t.substring(0,t.length-1)+"*")):n=t+e,console.log(n),n},u=t=>{const e=n().value;o(i(e,t)),a(n().value)},d=()=>{const t=n().value;"infinity"!==t.toLowerCase()?(o(t.substring(0,t.length-1)),a(n().value)):g()},g=()=>{o(""),a("")},h=()=>{const r=n().value;if(""!==r)try{const n=e(t(r)).toString();o(n),a(s(n))}catch(t){console.error(t),o(""),a("Error")}};const v=t=>{u(t.target.dataset.input)},m=t=>{d(t.target.dataset.input)},p=t=>{g()},f=t=>{h()};var E=()=>{document.querySelectorAll("button[data-input]").forEach((t=>{t.addEventListener("click",v)})),document.querySelector("button[data-action=clear]").addEventListener("click",m),document.querySelector("button[data-action=reset]").addEventListener("click",p),document.querySelector("button[data-action=eval]").addEventListener("click",f)};const y=t=>{(()=>{for(let t=1;t<=3;t++)l().classList.remove(`theme${t}`)})(),t>3?l().classList.add("theme1"):l().classList.add(`theme${t}`)};const b=localStorage.setItem;localStorage.setItem=function(t,e){var n=new Event("itemInserted");n.value=e,n.key=t,document.dispatchEvent(n),b.apply(this,arguments)};const L=()=>{const t=window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");return t?(I(3),void y(e)):null===e?(I(1),void y(e)):void y(e)},I=t=>{localStorage.setItem("theme",t)},S=t=>{const{scrollTop:e,scrollLeft:n}=l(),{x:o,y:a}=t;return(t=>{var e=r().clientWidth;let n=Math.floor(e/3),o=Math.floor(t/n)+1;I(o)})(o-r().getBoundingClientRect().x-n)};var w=()=>{r().addEventListener("pointerup",S)};window.onload=()=>{L(),w(),document.addEventListener("itemInserted",(t=>{y(t.value)}),!1),E()};
//# sourceMappingURL=index.114a2127.js.map
